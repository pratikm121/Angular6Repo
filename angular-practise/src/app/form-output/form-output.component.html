<div class="container-fluid">
  <h1>Bootcamp Form</h1>
  <div class="alert-danger" *ngIf="errorMsg">
        {{errorMsg}}
  </div>
  <form #queryForm="ngForm"  novalidate (ngSubmit)="onSubmit()">
      {{queryForm.value | json}}
      <hr>
      {{queryFormInput |json}}
      <div class="form-group">
          <label>Name</label>
          <input type="text" required #userName="ngModel" [class.is-invalid] = "userName.invalid && userName.touched" 
            class="form-control" name ="userName" [(ngModel)]= "queryFormInput.name">
          <small class = "text-danger" [class.d-none] = "userName.valid || userName.untouched">Name is required</small>  
      </div>
      <div class="form-group">
          <label>Email</label>
          <input type="email" #userEmail= "ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" 
            [class.is-invalid] = "userEmail.invalid && userEmail.touched" class="form-control"   name ="userEmail" [(ngModel)]= "queryFormInput.email">
            <small class = "text-danger" [class.d-none] = "userEmail.valid || userEmail.untouched">Not a valid Email format</small>  
      </div>
      <div class="form-group">
          <label>Phone</label>
          <input type="tel" #userPhone= "ngModel"  pattern= "^\d{10}$" required [class.is-invalid] = "userPhone.invalid && userPhone.touched"
            class="form-control" name ="userPhone" [(ngModel)]= "queryFormInput.phone">
           <div *ngIf="userPhone.errors && (userPhone.invalid || userPhone.touched)">
                <small class ="text-danger" *ngIf = "userPhone.errors.required">Phone is required</small>
                <small class ="text-danger" *ngIf = "userPhone.errors.pattern">Phone # must be 10 digits</small> 
          </div>
          {{userPhone.value}}
      </div>
      <div class="form-group">
          <select class="custom-select" required #userTopic="ngModel" 
                [class.is-invalid] = "userTopic.invalid && userTopic.touched" 
                name ="userTopic" [ngModel]= "queryFormInput.topic">
              <option value="">I am interested in </option>
              <option *ngFor = "let topic of topics"> {{topic}}</option>
          </select>
          <small class = "text-danger" [class.d-none] = "userTopic.valid || userTopic.untouched">Please select a valid option</small>
      </div>
      <div class="mb-3">
          <label>Time Preference</label>
          <div class="form-check" >
              <input class="form-check-input"  type="radio" name="timePreference" value="morning" [(ngModel)]= "queryFormInput.timePreference">
              <label class="form-check-label">Morning (9AM -12 PM)</label>
          </div>
          <div class="form-check">
              <input class="form-check-input" type="radio" name="timePreference" value="evening" [(ngModel)]= "queryFormInput.timePreference">
              <label class="form-check-label">Evening (5PM -8 PM)</label>
          </div>
      </div>
      <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" name ="userChoice" [(ngModel)]= "queryFormInput.choice">
          <label class="form-check-label">Send me promotional offers</label>
      </div>
       <!-- <div ngModelGroup = "userAddress">
            <div class="form-group">
                    <label>Street</label>
                    <input type="text" class="form-control" name ="userStreet" [(ngModel)]= "queryFormInput.name">
            </div>
            <div class="form-group">
                    <label>City</label>
                    <input type="text" class="form-control" name ="userCity" [(ngModel)]= "queryFormInput.name">
            </div>
            <div class="form-group">
                    <label>State</label>
                    <input type="text" class="form-control" name ="userState" [(ngModel)]= "queryFormInput.name">
            </div>
            <div class="form-group">
                    <label>ZipCode</label>
                    <input type="text" class="form-control" name ="userZipCode" [(ngModel)]= "queryFormInput.name">
            </div>
      </div> -->
      <button [disabled]="queryForm.form.invalid" class="btn btn-primary" type="submit">Submit</button>
  </form>
</div>

<!-- *ngIf="!submitted" -->


<!-- <div [hidden]="submitted">
    <h2>Customer Form</h2>
    <form  (ngSubmit)="onSubmit()" #customerForm="ngForm">
  
      <div class="form-group display-4">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" required [(ngModel)]="forminputs.name" name="name" #name="ngModel">
        <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
            Name is required
        </div>  
      </div>
  
      <div class="form-group">
        <label for="age">Age</label>
        <input type="text" class="form-control" id="age" [(ngModel)]="forminputs.age" name="age">        
      </div>
  
      <div class="form-group">
        <label for="nationality">Nationality</label>
        <select class="form-control" id="nationality" required [(ngModel)]="forminputs.nationality" name="nationality" #nationality="ngModel">
                <option *ngFor="let nationality of nationalities" [value]="nationality">{{nationality}}</option>
              </select>
              <div [hidden]="nationality.valid || nationality.pristine" class="alert alert-danger">
                  Nationality is required
              </div>
          
      </div>
  
      <button type="submit" class="btn btn-primary" [disabled]="!customerForm.form.valid">Submit</button>
    </form>
</div>
 
<div [hidden]="!submitted" class="text-center">
        <h2>Submitted Customer</h2>
        <hr>
        <div><span class="badge badge-info">Id</span> -> {{forminputs.id}}</div>
        <div><span class="badge badge-info">Name</span> -> {{forminputs.name}}</div>
        <div><span class="badge badge-info">Age</span> -> {{forminputs.age}}</div>
        <div><span class="badge badge-info">Nationality</span> -> {{forminputs.nationality}}</div>
        <br>
        <button class="btn btn-primary" (click)="submitted=false">Edit</button>
</div> -->