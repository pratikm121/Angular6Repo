<div class="container-fluid">
  <h1>Bootcamp Form</h1>
  <div class="alert-danger" *ngIf="errorMsg">
        {{errorMsg}}
  </div>
  <form #queryForm="ngForm"  novalidate (ngSubmit)="onSubmit()">
      {{queryForm.value | json}}
      <hr>
      {{queryFormInput |json}}
      <div class="form-group">
          <label>Name</label>
          <input type="text" required #userName="ngModel" [class.is-invalid] = "userName.invalid && userName.touched" 
            class="form-control" name ="userName" [(ngModel)]= "queryFormInput.name">
          <small class = "text-danger" [class.d-none] = "userName.valid || userName.untouched">Name is required</small>  
      </div>
      <div class="form-group">
          <label>Email</label>
          <input type="email" #userEmail= "ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" 
            [class.is-invalid] = "userEmail.invalid && userEmail.touched" class="form-control"   name ="userEmail" [(ngModel)]= "queryFormInput.email">
            <small class = "text-danger" [class.d-none] = "userEmail.valid || userEmail.untouched">Not a valid Email format</small>  
      </div>
      <div class="form-group">
          <label>Phone</label>
          <input type="tel" #userPhone= "ngModel"  pattern= "^\d{10}$" required [class.is-invalid] = "userPhone.invalid && userPhone.touched"
            class="form-control" name ="userPhone" [(ngModel)]= "queryFormInput.phone">
           <div *ngIf="userPhone.errors && (userPhone.invalid || userPhone.touched)">
                <small class ="text-danger" *ngIf = "userPhone.errors.required">Phone is required</small>
                <small class ="text-danger" *ngIf = "userPhone.errors.pattern">Phone # must be 10 digits</small> 
          </div>
          {{userPhone.value}}
      </div>
      <div class="form-group">
          <select class="custom-select" required #userTopic="ngModel" 
                [class.is-invalid] = "userTopic.invalid && userTopic.touched" 
                name ="userTopic" [ngModel]= "queryFormInput.topic">
              <option value="">I am interested in </option>
              <option *ngFor = "let topic of topics"> {{topic}}</option>
          </select>
          <small class = "text-danger" [class.d-none] = "userTopic.valid || userTopic.untouched">Please select a valid option</small>
      </div>
      <div class="mb-3">
          <label>Time Preference</label>
          <div class="form-check" >
              <input class="form-check-input"  type="radio" name="timePreference" value="morning" [(ngModel)]= "queryFormInput.timePreference">
              <label class="form-check-label">Morning (9AM -12 PM)</label>
          </div>
          <div class="form-check">
              <input class="form-check-input" type="radio" name="timePreference" value="evening" [(ngModel)]= "queryFormInput.timePreference">
              <label class="form-check-label">Evening (5PM -8 PM)</label>
          </div>
      </div>
      <div class="form-check mb-3">
          <input class="form-check-input custom-control-label" type="checkbox" name ="userChoice" [(ngModel)]= "queryFormInput.choice">
          <label class="form-check-label">Send me promotional offers</label>
      </div>
        <div ngModelGroup = "userAddress" class="form-inline">
            <div class="form-group">
                    <label>Street</label>
                    <input type="text" class="form-control" name ="userStreet" [(ngModel)]= "queryFormInput.name">
            </div>
            <div class="form-group">
                    <label>City</label>
                    <input type="text" class="form-control" name ="userCity" [(ngModel)]= "queryFormInput.name">
            </div>
            <div class="form-group">
                    <label>State</label>
                    <input type="text" class="form-control" name ="userState" [(ngModel)]= "queryFormInput.name">
            </div>
            <div class="form-group">
                    <label>ZipCode</label>
                    <input type="text" class="form-control" name ="userZipCode" [(ngModel)]= "queryFormInput.name">
            </div>
        </div>
      <button [disabled]="queryForm.form.invalid" class="btn btn-primary" type="submit">Submit</button>
  </form>
</div>
<div class="row">
    <div class="col-sm-12">
      <h3>Service & Http Example 6</h3>
      <p>Spring Rest Api call 3</p>
      <ul *ngFor = "let user of anotherRestApiCall">
        <p>{{user.id}}.  {{user.userId}}  {{user.title}} {{user.body}}</p>
      </ul>
      <p>{{errorMsg}}</p>
    </div>
  </div>

<!-- *ngIf="!submitted" -->

